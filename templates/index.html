<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Distancing Monitor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
    <div class="container">
        <span class="bracket-tl"></span>
        <span class="bracket-br"></span>
        
        <header>
            <div class="system-time" id="system-time">SYSTEM TIME: --:--:--</div>
            <h1>Social Distancing Monitor</h1>
            <p class="subtitle">Real-Time Detection System</p>
        </header>

        <div class="main-content">
            <div class="content-inner">
                <div class="video-section">
                    <div class="video-label">LIVE FEED</div>
                    <div class="video-container">
                        <img src="{{ url_for('video_feed') }}" alt="Live Video Feed" id="video-feed">
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3><span class="status-indicator"></span>Status</h3>
                        <div class="value">Active</div>
                    </div>
                    <div class="stat-card">
                        <h3>Detection</h3>
                        <div class="value">YOLOv3</div>
                    </div>
                    <div class="stat-card">
                        <h3>Mode</h3>
                        <div class="value">Real-Time</div>
                    </div>
                </div>

                <div class="info-section">
                    <h2>Color Legend</h2>
                    <div class="legend">
                        <div class="legend-item">
                            <div class="color-box safe"></div>
                            <span><strong>Green:</strong> Safe Distance</span>
                        </div>
                        <div class="legend-item">
                            <div class="color-box violation"></div>
                            <span><strong>Red:</strong> Violation Detected</span>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h2>How It Works</h2>
                    <p class="info-text">
                        This system uses the YOLOv3 deep learning model to detect people in real-time video streams. 
                        It calculates the Euclidean distance between detected individuals and flags violations 
                        when people are too close to each other (below the safe distance threshold).
                    </p>
                </div>

                <div class="info-section">
                    <h2>Key Features</h2>
                    <div class="features-grid">
                        <div class="feature-item">
                            <h4>Real-Time Detection</h4>
                            <p>Processes video frames instantly using YOLOv3 object detection</p>
                        </div>
                        <div class="feature-item">
                            <h4>Distance Calculation</h4>
                            <p>Measures pixel distance between people's centroids</p>
                        </div>
                        <div class="feature-item">
                            <h4>Visual Feedback</h4>
                            <p>Color-coded boxes highlight violations in real-time</p>
                        </div>
                        <div class="feature-item">
                            <h4>Web Streaming</h4>
                            <p>MJPEG streaming allows browser-based monitoring</p>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h2>Technical Stack</h2>
                    <p class="info-text">
                        <strong>Backend:</strong> Python, Flask<br>
                        <strong>Computer Vision:</strong> OpenCV, YOLOv3<br>
                        <strong>Processing:</strong> NumPy, SciPy<br>
                        <strong>Frontend:</strong> HTML5, CSS3, MJPEG Streaming
                    </p>
                </div>
            </div>
        </div>

        <footer>
            <p>Social Distancing Monitor | Built with YOLOv3 & Flask</p>
            <p>Press Ctrl+C in terminal to stop the server</p>
        </footer>
    </div>
</body>
</html>